# config options for setting up an ensemble
[ensemble]

# start and end numbers for runs to set up and run
# Additional runs can be added and run to an existing ensemble
# without affecting existing runs, but trying to set up a run
# that already exists may result in unexpected behavior.
# Run numbers should be zero-based
# These values do not affect viz/analysis, which will include any
# runs it finds.
start_run = 0
end_run = 3

sampling_method = uniform
max_samples = 4

# Path to the initial condition input file.
# User has to supply.
# Eventually this could be hard-coded to use files on the input data
# server, but initially we want flexibility to experiment with different
# inputs and forcings
input_file_path = /global/cfs/cdirs/fanssie/MALI_projects/Thwaites_UQ/Thwaites_4to20km_r02_20230126/relaxation/Thwaites_4to20km_r02_20230126_withStiffness_10yrRelax.nc

# the value of the friction exponent used for the calculation of muFriction
# in the input file
orig_fric_exp = 0.2

# Path to ISMIP6 ice-shelf basal melt parameter input file.
# User has to supply.
basal_melt_param_file_path = /global/cfs/cdirs/fanssie/MALI_projects/Thwaites_UQ/Thwaites_4to20km_r02_20230126/forcing/basal_melt/parameterizations/Thwaites_4to20km_r02_20230126_basin_and_coeff_gamma0_DeltaT_quadratic_non_local_median.nc

# Path to thermal forcing file for the mesh to be used
# Note: this is currently only used to calculate mean TF for determining
# deltaT and need to be manually set to match the path set in the streams
# file for the actual run.
TF_file_path = /global/cfs/cdirs/fanssie/MALI_projects/Thwaites_UQ/Thwaites_4to20km_r02_20230126/forcing/ocean_thermal_forcing/obs/Thwaites_4to20km_r02_20230126_obs_TF_1995-2017_8km_x_60m_no_xtime.nc

SMB_file_path = /global/cfs/cdirs/fanssie/MALI_projects/Thwaites_UQ/Thwaites_4to20km_r02_20230126/forcing/atmosphere_forcing/RACMO_climatology_1995-2017/Thwaites_4to20km_r02_20230126_RACMO2.3p2_ANT27_smb_climatology_1995-2017.nc

# number of tasks that each ensemble member should be run with
# Eventually, compass could determine this, but we want explicit control for now
# ntasks=32 for cori
ntasks = 128

use_fric_exp = False
fric_exp_min = 0.1
fric_exp_max = 0.33333

use_mu_scale = True
mu_scale_min = 0.8
mu_scale_max = 1.2

use_stiff_scale = True
stiff_scale_min = 0.5
stiff_scale_max = 1.5

use_sigma_max = False
sigma_max_min = 100.0e3
sigma_max_max = 300.0e3

use_calv_limit = False
calv_limit_min = 5.0
calv_limit_max = 50.0

use_gamma0  = False
gamma0_min = 9620.0
gamma0_max = 471000.0

use_meltflux = False
meltflux_min = 90.5
meltflux_max = 114.5
iceshelf_area_obs = 4411.0e6
