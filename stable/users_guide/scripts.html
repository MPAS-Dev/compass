

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Scripts &mdash; COMPASS stable documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Introduction" href="../ocean/introduction.html" />
    <link rel="prev" title="Quick Start" href="overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> COMPASS
          

          
          </a>

          
            
            
              <div class="version">
                stable
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User's guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#list-testcases-py">list_testcases.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-testcase-py">setup_testcase.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clean-testcase-py">clean_testcase.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#manage-regression-suite-py">manage_regression_suite.py</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Ocean</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ocean/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ocean/test_cases/index.html">Ocean test cases</a></li>
</ul>
<p class="caption"><span class="caption-text">Machine-specific instructions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../machine_specific_instructions/slurm.html">Slurm job queueing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_specific_instructions/lanl.html">LANL Institutional Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_specific_instructions/nersc.html">NERSC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_specific_instructions/anvil.html">Anvil/Blues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_specific_instructions/linux.html">Personal Linux/OSX Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_specific_instructions/osx.html">Personal OSX Machine</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/config.html">config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/driver_script.html">driver_script</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/template.html">template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/regression_suite.html">regression_suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/run_config.html">run_config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/building_docs.html">Building the Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">COMPASS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Scripts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/users_guide/scripts.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="scripts">
<h1>Scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">¶</a></h1>
<div class="section" id="list-testcases-py">
<span id="list-testcases"></span><h2>list_testcases.py<a class="headerlink" href="#list-testcases-py" title="Permalink to this headline">¶</a></h2>
<p>This script is used to list available test cases.</p>
<p>It iterates through the directory structure and prints out configuration
options to setup specific test cases. Additionally, the <code class="docutils literal notranslate"><span class="pre">-o</span></code>, <code class="docutils literal notranslate"><span class="pre">-c</span></code>, <code class="docutils literal notranslate"><span class="pre">-r</span></code>, and <code class="docutils literal notranslate"><span class="pre">-t</span></code>
flags can be used to narrow the information that this script prints. If any of
them are passed in, the script will only print test cases that match all
criteria.</p>
<p>Additionally, if <code class="docutils literal notranslate"><span class="pre">-n</span></code> is passed in to get information about a single test case,
it will only print the flags needed to setup that specific test case.</p>
<p>Command-line options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./list_testcases.py -h
usage: list_testcases.py [-h] [-o CORE] [-c CONFIG] [-r RES] [-t TEST]
                         [-n NUMBER]

This script is used to list available test cases.

It iterates through the directory structure and prints out configuration
options to setup specific test cases. Additionally, the -o, -c, -r, and -t
flags can be used to narrow the information that this script prints. If any of
them are passed in, the script will only print test cases that match all
criteria.

Additionally, if -n is passed in to get information about a single test case,
it will only print the flags needed to setup that specific test case.

optional arguments:
  -h, --help            show this help message and exit
  -o CORE, --core CORE  Core to search for configurations within
  -c CONFIG, --configuration CONFIG
                        Configuration name to search for
  -r RES, --resolution RES
                        Resolution to search for
  -t TEST, --test TEST  Test name to search for
  -n NUMBER, --number NUMBER
                        If set, script will print the flags to use a the N&#39;th configuration.
</pre></div>
</div>
</div>
<div class="section" id="setup-testcase-py">
<span id="setup-testcase"></span><h2>setup_testcase.py<a class="headerlink" href="#setup-testcase-py" title="Permalink to this headline">¶</a></h2>
<p>This script is used to setup individual test cases. Available test cases
can be see using the <a class="reference internal" href="#list-testcases"><span class="std std-ref">list_testcases.py</span></a> script.</p>
<p>Specifically, this script parses XML files that define cases (steps in test
cases) and driver scripts, and generates directories and scripts to run each
step in the process of creating a test case.</p>
<p>This script requires a setup configuration file. Configuration files are
specific to each core. Template configuration files for each core can be seen
in this directory named <code class="docutils literal notranslate"><span class="pre">general.config.{core}</span></code> (see <a class="reference internal" href="../developers_guide/config.html#compass-config"><span class="std std-ref">config</span></a>).
Each core may have different requirements as far as what is required within a
configuration file.</p>
<p>Command-line options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./setup_testcase.py -h
usage: setup_testcase.py [-h] [-o CORE] [-c CONFIG] [-r RES] [-t TEST]
                         [-n NUM] [-f FILE] [-m FILE] [-b PATH] [-q]
                         [--no_download] [--work_dir PATH]

This script is used to setup individual test cases. Available test cases
can be see using the list_testcases.py script.

Specifically, this script parses XML files that define cases (steps in test
cases) and driver scripts, and generates directories and scripts to run each
step in the process of creating a test case.

This script requires a setup configuration file. Configuration files are
specific to each core. Template configuration files for each core can be seen
in this directory named &#39;general.config.{core}&#39;. Each core may have different
requirements as far as what is required within a configuration file.

optional arguments:
  -h, --help            show this help message and exit
  -o CORE, --core CORE  Core that contains configurations
  -c CONFIG, --configuration CONFIG
                        Configuration to setup
  -r RES, --resolution RES
                        Resolution of configuration to setup
  -t TEST, --test TEST  Test name within a resolution to setup
  -n NUM, --case_number NUM
                        Case number to setup, as listed from list_testcases.py. Can be a comma delimited list of case numbers.
  -f FILE, --config_file FILE
                        Configuration file for test case setup
  -m FILE, --model_runtime FILE
                        Definition of how to build model run commands on this machine
  -b PATH, --baseline_dir PATH
                        Location of baseslines that can be compared to
  -q, --quiet           If set, script will not write a command_history file
  --no_download         If set, script will not auto-download base_mesh files
  --work_dir PATH       If set, script will create case directories in work_dir rather than the current directory.
</pre></div>
</div>
</div>
<div class="section" id="clean-testcase-py">
<span id="clean-testcase"></span><h2>clean_testcase.py<a class="headerlink" href="#clean-testcase-py" title="Permalink to this headline">¶</a></h2>
<p>This script is used to clean one or more test cases that have already been
setup.</p>
<p>It will remove directories and driver scripts that were generated as part of
setting up a test case.</p>
<p>Command-line options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./clean_testcase.py -h
usage: clean_testcase.py [-h] [-o CORE] [-c CONFIG] [-r RES] [-t TEST]
                         [-n NUM] [-q] [-a] [--work_dir PATH]

This script is used to clean one or more test cases that have already been
setup.

It will remove directories / driver scripts that were generated as part of
setting up a test case.

optional arguments:
  -h, --help            show this help message and exit
  -o CORE, --core CORE  Core that contains configurations to clean
  -c CONFIG, --configuration CONFIG
                        Configuration to clean
  -r RES, --resolution RES
                        Resolution of configuration to clean
  -t TEST, --test TEST  Test name within a resolution to clean
  -n NUM, --case_number NUM
                        Case number to clean, as listed from list_testcases.py. Can be a comma delimited list of case numbers.
  -q, --quiet           If set, script will not write a command_history file
  -a, --all             Is set, the script will clean all test cases in the work_dir.
  --work_dir PATH       If set, script will clean case directories in work_dir rather than the current directory.
</pre></div>
</div>
</div>
<div class="section" id="manage-regression-suite-py">
<span id="manage-regression-suite"></span><h2>manage_regression_suite.py<a class="headerlink" href="#manage-regression-suite-py" title="Permalink to this headline">¶</a></h2>
<p>This script is used to manage regression suites. A regression suite is a set of
test cases that ensure one or more features in a model meet certain criteria.</p>
<p>Using this script one can setup or clean a regression suite.</p>
<p>When setting up a regression suite, this script will generate a script to run
all tests in the suite, and additionally setup each individual test case.</p>
<p>When cleaning a regression suite, this script will remove any generated files
for each individual test case, and the run script that runs all test cases.</p>
<p>Command-line options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./manage_regression_suite.py -h
usage: manage_regression_suite.py [-h] -t FILE [-f FILE] [-s] [-c] [-v]
                                  [-m FILE] [-b PATH] [--work_dir PATH]

This script is used to manage regression suites. A regression suite is a set of
test cases that ensure one or more features in a model meet certain criteria.

Using this script one can setup or clean a regression suite.

When setting up a regression suite, this script will generate a script to run
all tests in the suite, and additionally setup each individual test case.

When cleaning a regression suite, this script will remove any generated files
for each individual test case, and the run script that runs all test cases.

optional arguments:
  -h, --help            show this help message and exit
  -t FILE, --test_suite FILE
                        Path to file containing a test suite to setup
  -f FILE, --config_file FILE
                        Configuration file for test case setup
  -s, --setup           Option to determine if regression suite should be setup or not.
  -c, --clean           Option to determine if regression suite should be cleaned or not.
  -v, --verbose         Use verbose output from setup_testcase.py
  -m FILE, --model_runtime FILE
                        Definition of how to build model run commands on this machine
  -b PATH, --baseline_dir PATH
                        Location of baseslines that can be compared to
  --work_dir PATH       If set, script will setup the test suite in work_dir rather in this script&#39;s location.
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ocean/introduction.html" class="btn btn-neutral float-right" title="Introduction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral float-left" title="Quick Start" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Copyright (c) 2013-2020,  Los Alamos National Security, LLC (LANS) (Ocean: LA-CC-13-047;Land Ice: LA-CC-13-117) and the University Corporation for Atmospheric Research (UCAR).

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>