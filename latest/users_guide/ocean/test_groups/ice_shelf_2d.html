

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ice_shelf_2d &mdash; compass latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=c6e86fd7"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="internal_wave" href="internal_wave.html" />
    <link rel="prev" title="hurricane" href="hurricane.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            compass
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User's guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quick_start.html">Quick Start for Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../test_cases.html">Test Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config_files.html">Config Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../test_suites.html">Test Suites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../landice/index.html">Landice core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Ocean core</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Test groups</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="baroclinic_channel.html">baroclinic_channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="baroclinic_gyre.html">baroclinic_gyre</a></li>
<li class="toctree-l3"><a class="reference internal" href="buttermilk_bay.html">buttermilk_bay</a></li>
<li class="toctree-l3"><a class="reference internal" href="dam_break.html">dam_break</a></li>
<li class="toctree-l3"><a class="reference internal" href="drying_slope.html">drying_slope</a></li>
<li class="toctree-l3"><a class="reference internal" href="global_convergence.html">global_convergence</a></li>
<li class="toctree-l3"><a class="reference internal" href="global_ocean.html">global_ocean</a></li>
<li class="toctree-l3"><a class="reference internal" href="gotm.html">gotm</a></li>
<li class="toctree-l3"><a class="reference internal" href="hurricane.html">hurricane</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ice_shelf_2d</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#shared-config-options">shared config options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default">default</a></li>
<li class="toctree-l4"><a class="reference internal" href="#restart-test">restart_test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="internal_wave.html">internal_wave</a></li>
<li class="toctree-l3"><a class="reference internal" href="isomip_plus.html">isomip_plus</a></li>
<li class="toctree-l3"><a class="reference internal" href="lock_exchange.html">lock_exchange</a></li>
<li class="toctree-l3"><a class="reference internal" href="merry_go_round.html">merry_go_round</a></li>
<li class="toctree-l3"><a class="reference internal" href="nonhydro.html">nonhydro</a></li>
<li class="toctree-l3"><a class="reference internal" href="overflow.html">overflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="parabolic_bowl.html">parabolic_bowl</a></li>
<li class="toctree-l3"><a class="reference internal" href="planar_convergence.html">planar_convergence</a></li>
<li class="toctree-l3"><a class="reference internal" href="soma.html">soma</a></li>
<li class="toctree-l3"><a class="reference internal" href="sphere_transport.html">sphere_transport</a></li>
<li class="toctree-l3"><a class="reference internal" href="spherical_harmonic_transform.html">spherical_harmonic_transform</a></li>
<li class="toctree-l3"><a class="reference internal" href="tides.html">tides</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html">utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="ziso.html">ziso</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../framework/index.html">Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../suites.html">Test suites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../machines/index.html">Machines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/quick_start.html">Quick Start for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/command_line.html">Command-line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/organization.html">Organization of Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/landice/index.html">Landice core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/ocean/index.html">Ocean core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/framework.html">Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/machines/index.html">Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/docs.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/building_docs.html">Building the Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/deploying_spack.html">Deploying a new spack environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/api.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../design_docs/index.html">Design Documents</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/dev_add_test_group.html">Developer Tutorial: Adding a new test group</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/dev_add_rrm.html">Developer Tutorial: Adding a new ocean/sea ice regionally refined mesh (RRM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/dev_add_param_study.html">Developer Tutorial: Adding a parameter study</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/dev_porting_legacy.html">Developer Tutorial: Porting a legacy COMPASS test group</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Glossary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../versions.html">Code and Documentation Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">compass</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Ocean core</a></li>
          <li class="breadcrumb-item"><a href="index.html">Test groups</a></li>
      <li class="breadcrumb-item active">ice_shelf_2d</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/users_guide/ocean/test_groups/ice_shelf_2d.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ice-shelf-2d">
<span id="ocean-ice-shelf-2d"></span><h1>ice_shelf_2d<a class="headerlink" href="#ice-shelf-2d" title="Link to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">ocean/ice_shelf_2d</span></code> test group describes a
series of very simplified ice-shelf test cases where topography and initial
conditions only vary in the y direction.  The test case currently supports
only 5-km horizontal resolution and 20 vertical levels, each 50 m thick.
The x direction is periodic and only 10 cells wide, whereas the y direction has
solid boundaries and is 44 cells long.  The Coriolis parameter <span class="math notranslate nohighlight">\(f\)</span> is
zero.  This makes the test case quasi-two-dimensional, with negligible
variability in x.</p>
<p>The initial temperature for the whole domain is constant (1 degree Celsius),
while salinity varies linearly with depth from 34.5 PSU at the sea surface
to 34.7 PSU at the sea floor, which is at a constant at 2000 m depth.  The
conceptual overlying ice shelf depresses the sea surface height buy as much as
1990 m (leaving a 10-m water column) for the first 30 km in y.  Over the next
30 km, it rises to 1490 m, then fairly abruptly to zero over the next 15 km,
where it remains for the second half of the domain.  The ice shelf occupies
these first 75 km of the domain: fluxes from ice-shelf melting are only applied
in this region.</p>
<a class="reference internal image-reference" href="../../../_images/ice_shelf_2d.png"><img alt="../../../_images/ice_shelf_2d.png" class="align-center" src="../../../_images/ice_shelf_2d.png" style="width: 500px;" />
</a>
<p>The geometry does not represent a particularly realistic ice-shelf cavity but
it is a quick and useful test of the parameterization of land-ice melt fluxes
and of frazil formation below ice shelves.</p>
<p>Both of the <code class="docutils literal notranslate"><span class="pre">ice_shelf_2d</span></code> test cases are composed of 4 types of steps:
<code class="docutils literal notranslate"><span class="pre">initial_state</span></code>, which defines the mesh and initial conditions for the model;
<code class="docutils literal notranslate"><span class="pre">ssh_adjustment</span></code>, which modifies the <code class="docutils literal notranslate"><span class="pre">landIcePressure</span></code> field to balance
the <code class="docutils literal notranslate"><span class="pre">ssh</span></code> field, see <a class="reference internal" href="../framework/ice_shelf.html#ocean-ssh-adjustment"><span class="std std-ref">Sea surface height adjustment</span></a>; and <code class="docutils literal notranslate"><span class="pre">forward</span></code>, which
performs time integration of the model.  The <code class="docutils literal notranslate"><span class="pre">viz</span></code> step can be used to plot
the vertical coordinate, interpolated between adjacent cell centers.</p>
<section id="shared-config-options">
<h2>shared config options<a class="headerlink" href="#shared-config-options" title="Link to this heading"></a></h2>
<p>Both <code class="docutils literal notranslate"><span class="pre">ice_shelf_2d</span></code> test cases share the following config options:</p>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="c1"># Options related to the vertical grid</span>
<span class="k">[vertical_grid]</span>

<span class="c1"># the type of vertical grid</span>
<span class="na">grid_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">uniform</span>

<span class="c1"># Number of vertical levels</span>
<span class="na">vert_levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">20</span>

<span class="c1"># Depth of the bottom of the ocean</span>
<span class="na">bottom_depth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">2000.0</span>

<span class="c1"># The type of vertical coordinate (e.g. z-level, z-star)</span>
<span class="na">coord_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">z-star</span>

<span class="c1"># Whether to use &quot;partial&quot; or &quot;full&quot;, or &quot;None&quot; to not alter the topography</span>
<span class="na">partial_cell_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">None</span>

<span class="c1"># The minimum fraction of a layer for partial cells</span>
<span class="na">min_pc_fraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.1</span>


<span class="c1"># namelist options for 2D ice-shelf testcases</span>
<span class="k">[ice_shelf_2d]</span>

<span class="c1"># Vertical thickness of ocean sub-ice cavity</span>
<span class="na">cavity_thickness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">10.0</span>

<span class="c1"># Vertical thickness of fixed slope</span>
<span class="na">slope_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">500.0</span>

<span class="c1"># Horizontal width of angled part of the ice</span>
<span class="na">edge_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">15.0e3</span>

<span class="c1"># cavity edge in y</span>
<span class="na">y1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">30.0e3</span>

<span class="c1"># shelf edge in y</span>
<span class="na">y2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">60.0e3</span>

<span class="c1"># Temperature of the surface in the northern half of the domain</span>
<span class="na">temperature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1.0</span>

<span class="c1"># Salinity of the water in the entire domain</span>
<span class="na">surface_salinity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">34.5</span>

<span class="c1"># Salinity of the water in the entire domain</span>
<span class="na">bottom_salinity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">34.7</span>

<span class="c1">## the following are set manually within the test case</span>
<span class="c1"># number of mesh cells in x</span>
<span class="na">nx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">10</span>

<span class="c1"># number of mesh cells in y</span>
<span class="na">ny</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">44</span>

<span class="c1"># size of grid cells in meters</span>
<span class="na">dc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">5e3</span>
</pre></div>
</div>
<p>You can modify the horizontal mesh, vertical grid, geometry, and initial
temperature and salinity of the test case by altering these options.</p>
</section>
<section id="default">
<h2>default<a class="headerlink" href="#default" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/ice_shelf_2d/5km/default</span></code> includes a relatively
strenuous, iterative process to dynamically adjust <code class="docutils literal notranslate"><span class="pre">landIcePressure</span></code> and
<code class="docutils literal notranslate"><span class="pre">ssh</span></code> to be compatible with one another in the <code class="docutils literal notranslate"><span class="pre">ssh_adjustment</span></code> step.
In this test case, we perform 15 iterations of adjustment, enough that changes
in pressure should be quite small compared to those in the first iteration.
Reducing this number will make the test case run more quickly at the risk of
having longer-lived transients at the beginning of the simulation.</p>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="c1"># Options relate to adjusting the sea-surface height or land-ice pressure</span>
<span class="c1"># below ice shelves to they are dynamically consistent with one another</span>
<span class="k">[ssh_adjustment]</span>

<span class="c1"># the number of iterations of ssh adjustment to perform</span>
<span class="na">iterations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">15</span>
</pre></div>
</div>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">forward</span></code> step runs for 10 minutes (2 time steps).  Then, if a baseline
run of the test case was provided for comparison, we perform validation of both
the prognostic variables (layer thickness, velocity, temperature and salinity)
and a large number of variables associated with freshwater and heat fluxes
under ice shelves.</p>
<p>Frazil-ice formation is not included in this test case.</p>
</section>
<section id="restart-test">
<h2>restart_test<a class="headerlink" href="#restart-test" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/ice_shelf_2d/5km/restart_test</span></code> performs fewer
iterations of <code class="docutils literal notranslate"><span class="pre">ssh_adjustment</span></code> than <code class="docutils literal notranslate"><span class="pre">default</span></code>, but it does include
frazil-ice formation.  The model is integrated forward in time for a 2 time
steps (10 min) in the <code class="docutils literal notranslate"><span class="pre">full_run</span></code> step, saving a restart file every 5 minutes.
Then, a second <code class="docutils literal notranslate"><span class="pre">restart_run</span></code> step is performed from the restart file 5
minutes into the simulation.  Prognostic variables, variables related to
sub-ice-shelf fluxes, and variables related to frazil formation are compared
between the “full” and “restart” runs at minute 10 of the simulation to
make sure they are bit-for-bit identical.</p>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="c1"># Options relate to adjusting the sea-surface height or land-ice pressure</span>
<span class="c1"># below ice shelves to they are dynamically consistent with one another</span>
<span class="k">[ssh_adjustment]</span>

<span class="c1"># the number of iterations of ssh adjustment to perform</span>
<span class="na">iterations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">2</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="hurricane.html" class="btn btn-neutral float-left" title="hurricane" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="internal_wave.html" class="btn btn-neutral float-right" title="internal_wave" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright (c) 2013-2021,  Los Alamos National Security, LLC (LANS) (Ocean: LA-CC-13-047;Land Ice: LA-CC-13-117) and the University Corporation for Atmospheric Research (UCAR)..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>