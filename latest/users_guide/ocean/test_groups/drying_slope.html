

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>drying_slope &mdash; compass latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=c6e86fd7"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="global_convergence" href="global_convergence.html" />
    <link rel="prev" title="dam_break" href="dam_break.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            compass
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User's guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quick_start.html">Quick Start for Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../test_cases.html">Test Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config_files.html">Config Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../test_suites.html">Test Suites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../landice/index.html">Landice core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Ocean core</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Test groups</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="baroclinic_channel.html">baroclinic_channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="baroclinic_gyre.html">baroclinic_gyre</a></li>
<li class="toctree-l3"><a class="reference internal" href="buttermilk_bay.html">buttermilk_bay</a></li>
<li class="toctree-l3"><a class="reference internal" href="dam_break.html">dam_break</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">drying_slope</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#config-options">config options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default">default</a></li>
<li class="toctree-l4"><a class="reference internal" href="#convergence">convergence</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decomp">decomp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loglaw">loglaw</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="global_convergence.html">global_convergence</a></li>
<li class="toctree-l3"><a class="reference internal" href="global_ocean.html">global_ocean</a></li>
<li class="toctree-l3"><a class="reference internal" href="gotm.html">gotm</a></li>
<li class="toctree-l3"><a class="reference internal" href="hurricane.html">hurricane</a></li>
<li class="toctree-l3"><a class="reference internal" href="ice_shelf_2d.html">ice_shelf_2d</a></li>
<li class="toctree-l3"><a class="reference internal" href="internal_wave.html">internal_wave</a></li>
<li class="toctree-l3"><a class="reference internal" href="isomip_plus.html">isomip_plus</a></li>
<li class="toctree-l3"><a class="reference internal" href="lock_exchange.html">lock_exchange</a></li>
<li class="toctree-l3"><a class="reference internal" href="merry_go_round.html">merry_go_round</a></li>
<li class="toctree-l3"><a class="reference internal" href="nonhydro.html">nonhydro</a></li>
<li class="toctree-l3"><a class="reference internal" href="overflow.html">overflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="parabolic_bowl.html">parabolic_bowl</a></li>
<li class="toctree-l3"><a class="reference internal" href="planar_convergence.html">planar_convergence</a></li>
<li class="toctree-l3"><a class="reference internal" href="soma.html">soma</a></li>
<li class="toctree-l3"><a class="reference internal" href="sphere_transport.html">sphere_transport</a></li>
<li class="toctree-l3"><a class="reference internal" href="spherical_harmonic_transform.html">spherical_harmonic_transform</a></li>
<li class="toctree-l3"><a class="reference internal" href="tides.html">tides</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html">utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="ziso.html">ziso</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../framework/index.html">Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../suites.html">Test suites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../machines/index.html">Machines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/quick_start.html">Quick Start for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/command_line.html">Command-line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/organization.html">Organization of Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/landice/index.html">Landice core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/ocean/index.html">Ocean core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/framework.html">Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/machines/index.html">Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/docs.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/building_docs.html">Building the Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/deploying_spack.html">Deploying a new spack environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/api.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../design_docs/index.html">Design Documents</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/dev_add_test_group.html">Developer Tutorial: Adding a new test group</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/dev_add_rrm.html">Developer Tutorial: Adding a new ocean/sea ice regionally refined mesh (RRM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/dev_add_param_study.html">Developer Tutorial: Adding a parameter study</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/dev_porting_legacy.html">Developer Tutorial: Porting a legacy COMPASS test group</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Glossary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../versions.html">Code and Documentation Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">compass</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Ocean core</a></li>
          <li class="breadcrumb-item"><a href="index.html">Test groups</a></li>
      <li class="breadcrumb-item active">drying_slope</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/users_guide/ocean/test_groups/drying_slope.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="drying-slope">
<span id="ocean-drying-slope"></span><h1>drying_slope<a class="headerlink" href="#drying-slope" title="Link to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">ocean/drying_slope</span></code> test group reproducs the tidal channel flow test case
from <a class="reference external" href="http://dx.doi.org/10.1016/j.cageo.2013.05.004">Warner et al. (2013)</a>
which was originally presented in
<a class="reference external" href="https://doi.org/10.1016/j.ocemod.2004.06.002">Oey (2005)</a>.</p>
<p>The domain is 2-d with a channel sloping in the x-dimension and periodic in the
y-dimension. The channel length is set to 25 km and slopes with an aspect ratio
of 0.1. The channel width is 6km for all simulations. The channel is initialized
as dry with a minimum layer thickness. The water level at the seaward end is
oscillated sinusoidally with a period of 0.5 days as</p>
<div class="math notranslate nohighlight">
\[\zeta_{east} = 10.0 \sin(\pi/0.5t) - 10.0\]</div>
<a class="reference internal image-reference" href="../../../_images/drying_slope_forcing.png"><img alt="../../../_images/drying_slope_forcing.png" class="align-center" src="../../../_images/drying_slope_forcing.png" style="width: 500px;" />
</a>
<p>Temperature and salinity are constant throughout the domain with values of 20
degC and 35 PSU, respectively. Two different linear drag bottom roughness
factors of 0.0025 and 0.01 are applied in separate simulations.</p>
<p>By default, there are 10 vertical layers. The sigma vertical coordinate is
used. Horizontal resolution of 250m and 1 km are available.</p>
<p>The test group includes 1 test case.  The test case has 4 steps. The
<code class="docutils literal notranslate"><span class="pre">initial_state</span></code> defines the mesh and initial conditions for the model. For
the <code class="docutils literal notranslate"><span class="pre">sigma</span></code> vertical coordiante, two <code class="docutils literal notranslate"><span class="pre">forward</span></code> steps are run, one for each
Rayleigh damping coefficient; for the <code class="docutils literal notranslate"><span class="pre">single_layer</span></code> case, one <code class="docutils literal notranslate"><span class="pre">forward</span></code>
step is run at one value of the explicit bottom drag coefficient. The <code class="docutils literal notranslate"><span class="pre">viz</span></code>
step performs visualization of the ssh field. For the <code class="docutils literal notranslate"><span class="pre">sigma</span></code> case, the
<code class="docutils literal notranslate"><span class="pre">viz</span></code> step also produces a comparison plot with the analytical solution as
well as the solution from the ROMS model.</p>
<a class="reference internal image-reference" href="../../../_images/drying_slope_validation.png"><img alt="../../../_images/drying_slope_validation.png" class="align-center" src="../../../_images/drying_slope_validation.png" style="width: 500px;" />
</a>
<section id="config-options">
<h2>config options<a class="headerlink" href="#config-options" title="Link to this heading"></a></h2>
<p>The config options for this test case are:</p>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="c1"># Options related to the vertical grid</span>
<span class="k">[vertical_grid]</span>

<span class="c1"># the type of vertical grid</span>
<span class="na">grid_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">uniform</span>

<span class="c1"># Number of vertical levels</span>
<span class="na">bottom_depth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">10.</span>

<span class="c1"># Number of vertical levels</span>
<span class="na">vert_levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">10</span>

<span class="c1"># Thickness of each layer in the thin film region</span>
<span class="na">thin_film_thickness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1.0e-3</span>

<span class="c1"># Whether to use &quot;partial&quot; or &quot;full&quot;, or &quot;None&quot; to not alter the topography</span>
<span class="na">partial_cell_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">None</span>

<span class="c1"># The minimum fraction of a layer for partial cells</span>
<span class="na">min_pc_fraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.1</span>

<span class="c1"># config options for drying slope test cases</span>
<span class="k">[drying_slope]</span>

<span class="c1"># the number of grid cells in x</span>
<span class="na">nx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">6</span>

<span class="c1"># Length over which wetting and drying actually occur</span>
<span class="na">Ly_analysis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">25.</span>

<span class="c1"># Domain length</span>
<span class="na">Ly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">30.</span>

<span class="c1"># Bottom depth at the right side of the domain</span>
<span class="na">right_bottom_depth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">10.</span>

<span class="c1"># Bottom depth at the left side of the domain</span>
<span class="na">left_bottom_depth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.</span>

<span class="c1"># Plug width as a fraction of the domain</span>
<span class="na">plug_width_frac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.0</span>

<span class="c1"># Plug temperature</span>
<span class="na">plug_temperature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">20.0</span>

<span class="c1"># Background temperature</span>
<span class="na">background_temperature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">20.0</span>

<span class="c1"># Background salinity</span>
<span class="na">background_salinity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">35.0</span>

<span class="c1"># Coriolis parameter</span>
<span class="na">coriolis_parameter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.0</span>

<span class="c1"># time step in s per km of horizontal resolution</span>
<span class="na">dt_per_km</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">30</span>

<span class="c1"># Number of tasks at 1km resolution</span>
<span class="na">ntasks_baseline</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">4</span>

<span class="c1"># Minimum number of tasks</span>
<span class="na">min_tasks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1</span>

<span class="c1"># config options for visualizing drying slope ouptut</span>
<span class="k">[drying_slope_convergence]</span>

<span class="na">resolutions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.25, 0.5, 1, 2</span>

<span class="c1"># config options for visualizing drying slope ouptut</span>
<span class="k">[drying_slope_viz]</span>

<span class="c1"># whether to generate movie</span>
<span class="na">generate_movie</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">False</span>

<span class="c1"># frames per second for movies</span>
<span class="na">frames_per_second</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">30</span>

<span class="c1"># movie format</span>
<span class="na">movie_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">mp4</span>
</pre></div>
</div>
<p>All units are mks.</p>
</section>
<section id="default">
<h2>default<a class="headerlink" href="#default" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/drying_slope/${COORD}/${METHOD}/${RES}/default</span></code> is the default version
of the drying slope test case for two short (12h) test runs with two different
drag coefficients and validation of sea surface height through visual inspection
against analytic and ROMS solutions. <code class="docutils literal notranslate"><span class="pre">RES</span></code> is either 250m or 1km. <code class="docutils literal notranslate"><span class="pre">COORD</span></code>
is either <code class="docutils literal notranslate"><span class="pre">single_layer</span></code> or <code class="docutils literal notranslate"><span class="pre">sigma</span></code>. The wetting and drying <code class="docutils literal notranslate"><span class="pre">METHOD</span></code> is
either <code class="docutils literal notranslate"><span class="pre">standard</span></code> or <code class="docutils literal notranslate"><span class="pre">ramp</span></code>. The <code class="docutils literal notranslate"><span class="pre">ramp</span></code> method ramps velocities and
velocity tendencies over a given layer thickness range rather than a binary
switch at the minimum thickness.</p>
</section>
<section id="convergence">
<h2>convergence<a class="headerlink" href="#convergence" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/drying_slope/${COORD}/${METHOD}/convergence</span></code> is a convergence test in
horizontal resolution and time. It produces a convergence plot for the
resolutions specified in the config file. <code class="docutils literal notranslate"><span class="pre">COORD</span></code> is either <code class="docutils literal notranslate"><span class="pre">single_layer</span></code>
or <code class="docutils literal notranslate"><span class="pre">sigma</span></code>. The wetting and drying <code class="docutils literal notranslate"><span class="pre">METHOD</span></code> is either <code class="docutils literal notranslate"><span class="pre">standard</span></code> or
<code class="docutils literal notranslate"><span class="pre">ramp</span></code>. If the other of the two methods has already been run, its convergence
curve will be included in the plot.</p>
</section>
<section id="decomp">
<h2>decomp<a class="headerlink" href="#decomp" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/drying_slope/${RES}/${COORD}/decomp</span></code> is identical to the default version
of the drying slope test case except it is run twice, on 1 processor and 12
processors and the results of each are compared. <code class="docutils literal notranslate"><span class="pre">RES</span></code> is either 250m or 1km.
<code class="docutils literal notranslate"><span class="pre">COORD</span></code> is either <code class="docutils literal notranslate"><span class="pre">single_layer</span></code> or <code class="docutils literal notranslate"><span class="pre">sigma</span></code>. The <code class="docutils literal notranslate"><span class="pre">sigma</span></code> case uses a
Rayleigh drag coefficient of 0.01. Rayleigh drag is not compatible with
<code class="docutils literal notranslate"><span class="pre">single_layer</span></code> so implicit drag with a constant coefficient is used.</p>
</section>
<section id="loglaw">
<h2>loglaw<a class="headerlink" href="#loglaw" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/drying_slope/${RES}/${COORD}/loglaw</span></code> is identical to the <code class="docutils literal notranslate"><span class="pre">default</span></code>
test except that the log-law option for implicit bottom drag is used. <code class="docutils literal notranslate"><span class="pre">RES</span></code>
is either 250m or 1km. <code class="docutils literal notranslate"><span class="pre">COORD</span></code> is either <code class="docutils literal notranslate"><span class="pre">single_layer</span></code> or <code class="docutils literal notranslate"><span class="pre">sigma</span></code>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="dam_break.html" class="btn btn-neutral float-left" title="dam_break" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="global_convergence.html" class="btn btn-neutral float-right" title="global_convergence" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright (c) 2013-2021,  Los Alamos National Security, LLC (LANS) (Ocean: LA-CC-13-047;Land Ice: LA-CC-13-117) and the University Corporation for Atmospheric Research (UCAR)..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>