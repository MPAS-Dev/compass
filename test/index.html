

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>compass &mdash; compass 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quick Start" href="users_guide/overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> compass
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="users_guide/overview.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/testcase.html">Test Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/configuration.html">Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/suite.html">Test Suites</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/landice/index.html">Landice core</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/ocean/index.html">Ocean core</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/machines/index.html">Machines</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy User's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="legacy/users_guide/overview.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/users_guide/scripts.html">Scripts</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Ocean Test Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="legacy/ocean/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/ocean/test_cases/index.html">Ocean test cases</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Instructions for Machines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/slurm.html">Slurm job queueing</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/lanl.html">LANL Institutional Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/nersc.html">NERSC</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/anvil.html">Anvil/Blues</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/linux.html">Personal Linux/OSX Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/osx.html">Personal OSX Machine</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/config.html">config</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/driver_script.html">driver_script</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/template.html">template</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/regression_suite.html">regression_suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/run_config.html">run_config</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/building_docs.html">Building the Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">compass</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>compass</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="compass">
<h1>compass<a class="headerlink" href="#compass" title="Permalink to this headline">¶</a></h1>
<p>Configuration Of Model for Prediction Across Scales Setups (compass) is an
automated system to set up test cases that remain synchronized with the
<a class="reference external" href="https://github.com/MPAS-Dev/MPAS-Model">MPAS-Model repository</a>.</p>
<p>Many compass test cases are idealized, and are used for things like
performing convergence tests or regression tests on particular parts of the
MPAS code.  Many compass test cases, such as those under the
<a class="reference internal" href="users_guide/ocean/configurations/global_ocean.html#ocean-global-ocean"><span class="std std-ref">global_ocean</span></a> configuration, are “realistic” in the sense that they
use data sets from observations to create create global and regional meshes,
initial conditions, and boundary conditions.</p>
<p><code class="docutils literal notranslate"><span class="pre">compass</span></code> will be the tool used to create new land-ice and ocean meshes and
initial conditions for future versions of <a class="reference external" href="https://e3sm.org/">E3SM</a>, just as
<a class="reference internal" href="#legacy-compass"><span class="std std-ref">Legacy COMPASS</span></a> has been used to create meshes and initial conditons for
<a class="reference external" href="https://e3sm.org/model/e3sm-model-description/v1-description/">E3SM v1</a>
and <a class="reference external" href="https://e3sm.org/research/science-campaigns/v2-planned-campaign/">v2</a>.
We note that <code class="docutils literal notranslate"><span class="pre">compass</span></code> does <em>not</em> provide the tools for creating many of the
files needed for full E3SM coupling, a process that requires expert help from
the E3SM development team.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">compass</span></code> python package defines the test cases along with the commands
to list and set up both test cases and test suites (groups of test cases).
compass currently supports the <code class="docutils literal notranslate"><span class="pre">landice</span></code> and <code class="docutils literal notranslate"><span class="pre">ocean</span></code> dynamical cores for
MPAS.  Nearly all test cases include calls that launch one of these dynamical
cores.  These runs are configured with namelists and streams files, and one of
the benefits of using compass over attempting to run one of the MPAS components
directly is that compass begins with default values for all namelists and
streams, modifying only those options where the default is not appropriate.
In this way, compass requires little alteration as MPAS itself evolves and new
functionality is added.</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">User's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="users_guide/overview.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="users_guide/overview.html#set-up-a-compass-repository-for-beginners">Set up a compass repository: for beginners</a></li>
<li class="toctree-l2"><a class="reference internal" href="users_guide/overview.html#compass-conda-environment">compass conda environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="users_guide/overview.html#setting-up-a-test-case">Setting up a test case</a></li>
<li class="toctree-l2"><a class="reference internal" href="users_guide/overview.html#running-a-test-case">Running a test case</a></li>
<li class="toctree-l2"><a class="reference internal" href="users_guide/overview.html#test-suites">Test Suites</a></li>
<li class="toctree-l2"><a class="reference internal" href="users_guide/overview.html#set-up-a-compass-repository-with-worktrees-for-advanced-users">Set up a compass repository with worktrees: for advanced users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/testcase.html">Test Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/configuration.html">Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/suite.html">Test Suites</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/landice/index.html">Landice core</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/ocean/index.html">Ocean core</a><ul>
<li class="toctree-l2"><a class="reference internal" href="users_guide/ocean/configurations/index.html">Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="users_guide/ocean/framework/index.html">Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="users_guide/ocean/suites.html">Test suites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="users_guide/machines/index.html">Machines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="users_guide/machines/index.html#config-options">config options</a></li>
<li class="toctree-l2"><a class="reference internal" href="users_guide/machines/index.html#slurm-job-queueing">Slurm job queueing</a></li>
<li class="toctree-l2"><a class="reference internal" href="users_guide/machines/index.html#supported-machines">Supported Machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="users_guide/machines/index.html#other-machines">Other Machines</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="legacy-compass">
<span id="id1"></span><h1>Legacy COMPASS<a class="headerlink" href="#legacy-compass" title="Permalink to this headline">¶</a></h1>
<p>The legacy version of COMPASS is controlled by 4 scripts
(<a class="reference internal" href="legacy/users_guide/scripts.html#legacy-list-testcases"><span class="std std-ref">list_testcases.py</span></a>, <a class="reference internal" href="legacy/users_guide/scripts.html#legacy-setup-testcase"><span class="std std-ref">setup_testcase.py</span></a>,
<a class="reference internal" href="legacy/users_guide/scripts.html#legacy-clean-testcase"><span class="std std-ref">clean_testcase.py</span></a>, and <a class="reference internal" href="legacy/users_guide/scripts.html#legacy-manage-regression-suite"><span class="std std-ref">manage_regression_suite.py</span></a>), and
test cases are defined by a series of XML files with a strict directory
structure.  Over the years, we have found this structure to be confusing for
both new and experienced developers, with serious limitations on flexibility
of test case design and code reuse.  We do not anticipate any new test cases
being added to the legacy version but it will take time for legacy test cases
to be ported to the new <code class="docutils literal notranslate"><span class="pre">compass</span></code> python package.  Therefore, the legacy
framework and test cases are expected to persist for the medium term.</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Legacy User's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="legacy/users_guide/overview.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/users_guide/overview.html#set-up-a-compass-repository-for-beginners">Set up a COMPASS repository: for beginners</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/users_guide/overview.html#compass-conda-environment">compass conda environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/users_guide/overview.html#setting-up-a-test-case">Setting up a test case</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/users_guide/overview.html#running-a-test-case">Running a test case</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/users_guide/overview.html#regression-suites">Regression suites</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/users_guide/overview.html#set-up-a-compass-repository-with-worktrees-for-advanced-users">Set up a COMPASS repository with worktrees: for advanced users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="legacy/users_guide/scripts.html">Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/users_guide/scripts.html#list-testcases-py">list_testcases.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/users_guide/scripts.html#setup-testcase-py">setup_testcase.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/users_guide/scripts.html#clean-testcase-py">clean_testcase.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/users_guide/scripts.html#manage-regression-suite-py">manage_regression_suite.py</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Legacy Ocean Test Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="legacy/ocean/introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/ocean/introduction.html#setting-config-options-for-ocean-test-cases">Setting config options for ocean test cases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="legacy/ocean/test_cases/index.html">Ocean test cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/ocean/test_cases/isomip_plus.html">ISOMIP+</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Legacy Instructions for Machines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/slurm.html">Slurm job queueing</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/lanl.html">LANL Institutional Computing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/lanl.html#grizzly-gnu">grizzly, gnu</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/lanl.html#grizzly-intel-17">grizzly, intel 17</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/lanl.html#grizzly-intel-19-with-pio2">grizzly, intel 19 with PIO2</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/lanl.html#badger-gnu">badger, gnu</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/lanl.html#building-scorpio-on-grizzly">Building Scorpio on Grizzly</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/nersc.html">NERSC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/nersc.html#cori-gnu">cori, gnu</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/nersc.html#cori-intel">cori, intel</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/nersc.html#pio-on-cori">PIO on cori</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/nersc.html#jupyter-notebook-on-remote-data">Jupyter notebook on remote data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/anvil.html">Anvil/Blues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/anvil.html#intel-on-anvil">intel on anvil</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/anvil.html#scorpio-on-anvil">SCORPIO on anvil</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/linux.html">Personal Linux/OSX Machine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/linux.html#installation-of-mpas-dependencies-including-scorpio-and-the-compass-conda-environment">Installation of MPAS dependencies including SCORPIO and the compass conda environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/linux.html#setup-before-compiling-running">Setup before compiling/running</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="legacy/machine_specific_instructions/osx.html">Personal OSX Machine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/osx.html#installation-of-mpas-dependencies-except-pio">Installation of MPAS dependencies except PIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/osx.html#pio-1-9-23-installation-with-some-modifications">PIO-1.9.23 installation with some modifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/machine_specific_instructions/osx.html#mpas-o-installation">MPAS-O installation</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Legacy Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/config.html">config</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/developers_guide/config.html#how-to-use-pre-defined-paths">How to use pre-defined paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy/developers_guide/config.html#description-of-xml-file">Description of XML file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/driver_script.html">driver_script</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/template.html">template</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/regression_suite.html">regression_suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/run_config.html">run_config</a><ul>
<li class="toctree-l2"><a class="reference internal" href="legacy/developers_guide/run_config.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="legacy/developers_guide/building_docs.html">Building the Documentation</a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="users_guide/overview.html" class="btn btn-neutral float-right" title="Quick Start" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Copyright (c) 2013-2021,  Los Alamos National Security, LLC (LANS) (Ocean: LA-CC-13-047;Land Ice: LA-CC-13-117) and the University Corporation for Atmospheric Research (UCAR)..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>