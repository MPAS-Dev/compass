

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Test suites &mdash; compass 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Machines" href="../machines/index.html" />
    <link rel="prev" title="Vertical coordinate" href="framework/vertical.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> compass
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User's guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testcase.html">Test Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../suite.html">Test Suites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../landice/index.html">Landice core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Ocean core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configurations/index.html">Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="framework/index.html">Framework</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Test suites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nightly-test-suite">nightly test suite</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quwisc240-test-suite">quwisc240 test suite</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qu240-spinups-test-suite">qu240_spinups test suite</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ec30to60-test-suite">ec30to60 test suite</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ecwisc30to60-test-suite">ecwisc30to60 test suite</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../machines/index.html">Machines</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/building_docs.html">Building the Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/api.html">API reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy User's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/users_guide/overview.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/users_guide/scripts.html">Scripts</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Ocean Test Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/ocean/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/ocean/test_cases/index.html">Ocean test cases</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Instructions for Machines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/machine_specific_instructions/slurm.html">Slurm job queueing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/machine_specific_instructions/lanl.html">LANL Institutional Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/machine_specific_instructions/nersc.html">NERSC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/machine_specific_instructions/anvil.html">Anvil/Blues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/machine_specific_instructions/linux.html">Personal Linux/OSX Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/machine_specific_instructions/osx.html">Personal OSX Machine</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/developers_guide/config.html">config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/developers_guide/driver_script.html">driver_script</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/developers_guide/template.html">template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/developers_guide/regression_suite.html">regression_suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/developers_guide/run_config.html">run_config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy/developers_guide/building_docs.html">Building the Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">compass</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Ocean core</a> &raquo;</li>
        
      <li>Test suites</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/users_guide/ocean/suites.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="test-suites">
<span id="ocean-suites"></span><h1>Test suites<a class="headerlink" href="#test-suites" title="Permalink to this headline">¶</a></h1>
<p>The ocean core currently includes 5 <a class="reference internal" href="../suite.html#test-suites"><span class="std std-ref">Test Suites</span></a> that can be used to
run a series of ocean test cases and optionally compare them against a baseline
run of the same tests.</p>
<div class="section" id="nightly-test-suite">
<span id="ocean-suite-nightly"></span><h2>nightly test suite<a class="headerlink" href="#nightly-test-suite" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m compass suite -c ocean -t nightly ...
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">nightly</span></code> test suite includes the following test cases:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ocean/baroclinic_channel/10km/default
ocean/baroclinic_channel/10km/threads_test
ocean/baroclinic_channel/10km/decomp_test
ocean/baroclinic_channel/10km/restart_test
ocean/global_ocean/QU240/mesh
ocean/global_ocean/QU240/PHC/init
ocean/global_ocean/QU240/PHC/performance_test/split_explicit
ocean/global_ocean/QU240/PHC/performance_test/RK4
ocean/global_ocean/QU240/PHC/restart_test/split_explicit
ocean/global_ocean/QU240/PHC/restart_test/RK4
ocean/global_ocean/QU240/PHC/decomp_test/split_explicit
ocean/global_ocean/QU240/PHC/decomp_test/RK4
ocean/global_ocean/QU240/PHC/threads_test/split_explicit
ocean/global_ocean/QU240/PHC/threads_test/RK4
ocean/global_ocean/QU240/PHC/analysis_test/split_explicit
ocean/global_ocean/QU240/PHC_BGC/init
ocean/global_ocean/QU240/PHC_BGC/performance_test/split_explicit
ocean/global_ocean/QU240/PHC_BGC/restart_test/split_explicit
ocean/global_ocean/QU240/EN4_1900/init
ocean/global_ocean/QU240/EN4_1900/performance_test/split_explicit
ocean/ice_shelf_2d/5km/restart_test
ocean/ziso/20km/default
ocean/ziso/20km/with_frazil
</pre></div>
</div>
<p>These are all meant to be short tests that are appropriate for regression
testing.  They cover much (but by no means all) of the features of MPAS-Ocean.
These tests should expose problems with the tools for creating meshes and
initial conditions as well as unexpected changes in any operations, such as
advection and diffusion, that affect the 4 main prognostic variables:
layer thickness, velocity, temperature and salinity.</p>
<p>Several additional tests determine that the model behavior is exactly the same
for a long run or a shorter continuation run from a restart file
(<code class="docutils literal notranslate"><span class="pre">restart_test</span></code>). Others ensure that the code produces the same result when
it is run on different numbers of cores (<code class="docutils literal notranslate"><span class="pre">decomp_test</span></code>) or threads
(<code class="docutils literal notranslate"><span class="pre">threads_test</span></code>). Several tests are run with both the split-explicit and RK4
time integrators (see <a class="reference internal" href="configurations/global_ocean.html#global-ocean-performance-test"><span class="std std-ref">performance_test test case</span></a>).</p>
<p>One test (<a class="reference internal" href="configurations/global_ocean.html#global-ocean-analysis-test"><span class="std std-ref">analysis_test test case</span></a>) ensures that the so-called
“analysis members”, which can perform analysis as the model runs, are
functioning properly and that their results do not change unexpectedly.</p>
<p>Two tests (<code class="docutils literal notranslate"><span class="pre">restart_test</span></code> from <a class="reference internal" href="configurations/ice_shelf_2d.html#ocean-ice-shelf-2d"><span class="std std-ref">ice_shelf_2d</span></a> and <code class="docutils literal notranslate"><span class="pre">with_frazil</span></code>
from <a class="reference internal" href="configurations/ziso.html#ocean-ziso"><span class="std std-ref">ziso</span></a>) include checks for proper functioning of frazil ice
formation.</p>
<p>One test (<code class="docutils literal notranslate"><span class="pre">restart_test</span></code> from <a class="reference internal" href="configurations/ice_shelf_2d.html#ocean-ice-shelf-2d"><span class="std std-ref">ice_shelf_2d</span></a>) checks that
freshwater fluxes under ice shelves are working as expected.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">default</span></code> test from <a class="reference internal" href="configurations/ziso.html#ocean-ziso"><span class="std std-ref">ziso</span></a> tests that Lagrangian particles are
working properly.</p>
</div>
<div class="section" id="quwisc240-test-suite">
<span id="ocean-suite-quwisc240"></span><h2>quwisc240 test suite<a class="headerlink" href="#quwisc240-test-suite" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m compass suite -c ocean -t quwisc240 ...
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ocean/global_ocean/QUwISC240/mesh
ocean/global_ocean/QUwISC240/PHC/init
ocean/global_ocean/QUwISC240/PHC/performance_test/split_explicit
ocean/global_ocean/QUwISC240/PHC/performance_test/RK4
ocean/global_ocean/QUwISC240/PHC/restart_test/split_explicit
ocean/global_ocean/QUwISC240/PHC/restart_test/RK4
ocean/global_ocean/QUwISC240/PHC/decomp_test/split_explicit
ocean/global_ocean/QUwISC240/PHC/decomp_test/RK4
ocean/global_ocean/QUwISC240/PHC/threads_test/split_explicit
ocean/global_ocean/QUwISC240/PHC/threads_test/RK4
ocean/global_ocean/QUwISC240/PHC/analysis_test/split_explicit
ocean/global_ocean/QUwISC240/PHC_BGC/init
ocean/global_ocean/QUwISC240/PHC_BGC/performance_test/split_explicit
ocean/global_ocean/QUwISC240/PHC_BGC/restart_test/split_explicit
ocean/global_ocean/QUwISC240/EN4_1900/init
ocean/global_ocean/QUwISC240/EN4_1900/performance_test/split_explicit
</pre></div>
</div>
<p>This test suite performs exactly the same set of tests for the QUwISC240 mesh
that are performed on the QU240 mesh in the <a class="reference internal" href="#ocean-suite-nightly"><span class="std std-ref">nightly test suite</span></a>.  Since
the QUwISC initial condition is a bit more time consuming to produce and
equilibrate (see <a class="reference internal" href="framework/ice_shelf.html#ocean-ssh-adjustment"><span class="std std-ref">Sea surface height adjustment</span></a>), it is not included in the
<code class="docutils literal notranslate"><span class="pre">nightly</span></code> suite but regression testing on this mesh should also be performed
on a regular basis to ensure no unexpected changes to MPAS-Ocean and E3SM
configurations with ice-shelf cavities.</p>
</div>
<div class="section" id="qu240-spinups-test-suite">
<span id="ocean-suite-qu240-spinups"></span><h2>qu240_spinups test suite<a class="headerlink" href="#qu240-spinups-test-suite" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m compass suite -c ocean -t qu240_spinups ...
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ocean/global_ocean/QU240/mesh
ocean/global_ocean/QU240/PHC/init
ocean/global_ocean/QU240/PHC/spinup/split_explicit
ocean/global_ocean/QU240/PHC/files_for_e3sm/split_explicit

ocean/global_ocean/QUwISC240/mesh
ocean/global_ocean/QUwISC240/PHC/init
ocean/global_ocean/QUwISC240/PHC/spinup/split_explicit
ocean/global_ocean/QUwISC240/PHC/files_for_e3sm/split_explicit
</pre></div>
</div>
<p>This suite includes all the tests needed to spin up an initial condition for
E3SM on both the QU240 and QUwISC240 meshes.  They are grouped into a test
suite simply to make them easier to run with one single command.</p>
</div>
<div class="section" id="ec30to60-test-suite">
<span id="ocean-suite-ec30to60"></span><h2>ec30to60 test suite<a class="headerlink" href="#ec30to60-test-suite" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m compass suite -c ocean -t ec30to60 ...
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ocean/global_ocean/EC30to60/mesh
ocean/global_ocean/EC30to60/PHC/init
ocean/global_ocean/EC30to60/PHC/performance_test/split_explicit
ocean/global_ocean/EC30to60/PHC/spinup/split_explicit
ocean/global_ocean/EC30to60/PHC/files_for_e3sm/split_explicit
ocean/global_ocean/EC30to60/EN4_1900/init
ocean/global_ocean/EC30to60/EN4_1900/performance_test/split_explicit
ocean/global_ocean/EC30to60/EN4_1900/spinup/split_explicit
ocean/global_ocean/EC30to60/EN4_1900/files_for_e3sm/split_explicit
</pre></div>
</div>
<p>This suite is included for convenience so all the tests needed to spin up an
initial condition for E3SM on the EC30to60 mesh can be run with a single
command.</p>
</div>
<div class="section" id="ecwisc30to60-test-suite">
<span id="ocean-suite-ecwisc30to60"></span><h2>ecwisc30to60 test suite<a class="headerlink" href="#ecwisc30to60-test-suite" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m compass suite -c ocean -t ec30to60 ...
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ocean/global_ocean/ECwISC30to60/mesh
ocean/global_ocean/ECwISC30to60/PHC/init
ocean/global_ocean/ECwISC30to60/PHC/performance_test/split_explicit
ocean/global_ocean/ECwISC30to60/PHC/spinup/split_explicit
ocean/global_ocean/ECwISC30to60/PHC/files_for_e3sm/split_explicit
ocean/global_ocean/ECwISC30to60/EN4_1900/init
ocean/global_ocean/ECwISC30to60/EN4_1900/performance_test/split_explicit
ocean/global_ocean/ECwISC30to60/EN4_1900/spinup/split_explicit
ocean/global_ocean/ECwISC30to60/EN4_1900/files_for_e3sm/split_explicit
</pre></div>
</div>
<p>Similarly to the previous two suites, this suite is included for convenience so
all the tests needed to spin up an initial condition for E3SM on the
ECwISC30to60 mesh can be run with a single command.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../machines/index.html" class="btn btn-neutral float-right" title="Machines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="framework/vertical.html" class="btn btn-neutral float-left" title="Vertical coordinate" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Copyright (c) 2013-2021,  Los Alamos National Security, LLC (LANS) (Ocean: LA-CC-13-047;Land Ice: LA-CC-13-117) and the University Corporation for Atmospheric Research (UCAR)..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>