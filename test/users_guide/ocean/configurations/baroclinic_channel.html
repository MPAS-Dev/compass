

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>baroclinic_channel &mdash; compass 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="global_ocean" href="global_ocean.html" />
    <link rel="prev" title="Configurations" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> compass
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User's guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testcase.html">Test Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../suite.html">Test Suites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../landice/index.html">Landice core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Ocean core</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Configurations</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">baroclinic_channel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#config-options">config options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default">default</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decomp-test">decomp_test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thread-test">thread_test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#restart-test">restart_test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rpe-test">rpe_test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="global_ocean.html">global_ocean</a></li>
<li class="toctree-l3"><a class="reference internal" href="ice_shelf_2d.html">ice_shelf_2d</a></li>
<li class="toctree-l3"><a class="reference internal" href="ziso.html">ziso</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../framework/index.html">Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../suites.html">Test suites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../machines/index.html">Machines</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/building_docs.html">Building the Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/api.html">API reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy User's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/users_guide/overview.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/users_guide/scripts.html">Scripts</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Ocean Test Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/ocean/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/ocean/test_cases/index.html">Ocean test cases</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Instructions for Machines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/machine_specific_instructions/slurm.html">Slurm job queueing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/machine_specific_instructions/lanl.html">LANL Institutional Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/machine_specific_instructions/nersc.html">NERSC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/machine_specific_instructions/anvil.html">Anvil/Blues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/machine_specific_instructions/linux.html">Personal Linux/OSX Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/machine_specific_instructions/osx.html">Personal OSX Machine</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Developer's guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/developers_guide/config.html">config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/developers_guide/driver_script.html">driver_script</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/developers_guide/template.html">template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/developers_guide/regression_suite.html">regression_suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/developers_guide/run_config.html">run_config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../legacy/developers_guide/building_docs.html">Building the Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">compass</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Ocean core</a> &raquo;</li>
        
          <li><a href="index.html">Configurations</a> &raquo;</li>
        
      <li>baroclinic_channel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/users_guide/ocean/configurations/baroclinic_channel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="baroclinic-channel">
<span id="ocean-baroclinic-channel"></span><h1>baroclinic_channel<a class="headerlink" href="#baroclinic-channel" title="Permalink to this headline">Â¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel</span></code> configuration implements variants of the
Baroclinic Eddies test case from
<a class="reference external" href="https://doi.org/10.1016/j.ocemod.2011.10.003">Ilicak et al. (2012)</a>.</p>
<p>The domain is zonally periodic with solid northern and southern boundaries.
Salinity is constant throughout the domain (at 35 PSU).  The initial
temperature is cooler in the southern half of the domain than in the north,
with a gradient between the two halves that is sinusoidally perturbed in the
meridional direction.  The surface temperature is also warmer than at depth.</p>
<a class="reference internal image-reference" href="../../../_images/baroclinic_channel.png"><img alt="../../../_images/baroclinic_channel.png" class="align-center" src="../../../_images/baroclinic_channel.png" style="width: 500px;" /></a>
<p>Variants of the test case are available at 1-km, 4-km and 10-km horizontal
resolution.  By default, the 20 vertical layers each have 50-m uniform
thickness.</p>
<p>The configuration includes 5 test cases.  All test cases have 2 steps,
<code class="docutils literal notranslate"><span class="pre">initial_state</span></code>, which defines the mesh and initial conditions for the model,
and <code class="docutils literal notranslate"><span class="pre">forward</span></code> (given another name in many test cases to distinguish multiple
forward runs), which performs time integration of the model.</p>
<div class="section" id="config-options">
<h2>config options<a class="headerlink" href="#config-options" title="Permalink to this headline">Â¶</a></h2>
<p>All 5 test cases share the same set of config options:</p>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="c1"># Options related to the vertical grid</span>
<span class="k">[vertical_grid]</span>

<span class="c1"># the type of vertical grid</span>
<span class="na">grid_type</span> <span class="o">=</span> <span class="s">uniform</span>

<span class="c1"># Number of vertical levels</span>
<span class="na">vert_levels</span> <span class="o">=</span> <span class="s">20</span>

<span class="c1"># Depth of the bottom of the ocean</span>
<span class="na">bottom_depth</span> <span class="o">=</span> <span class="s">1000.0</span>


<span class="c1"># namelist options for baroclinic channel testcases</span>
<span class="k">[baroclinic_channel]</span>

<span class="c1"># Logical flag that determines if locations of features are defined by distance</span>
<span class="c1"># or fractions. False means fractions.</span>
<span class="na">use_distances</span> <span class="o">=</span> <span class="s">False</span>

<span class="c1"># Temperature of the surface in the northern half of the domain.</span>
<span class="na">surface_temperature</span> <span class="o">=</span> <span class="s">13.1</span>

<span class="c1"># Temperature of the bottom in the northern half of the domain.</span>
<span class="na">bottom_temperature</span> <span class="o">=</span> <span class="s">10.1</span>

<span class="c1"># Difference in the temperature field between the northern and southern halves</span>
<span class="c1"># of the domain.</span>
<span class="na">temperature_difference</span> <span class="o">=</span> <span class="s">1.2</span>

<span class="c1"># Fraction of domain in Y direction the temperature gradient should be linear</span>
<span class="c1"># over.</span>
<span class="na">gradient_width_frac</span> <span class="o">=</span> <span class="s">0.08</span>

<span class="c1"># Width of the temperature gradient around the center sin wave. Default value</span>
<span class="c1"># is relative to a 500km domain in Y.</span>
<span class="na">gradient_width_dist</span> <span class="o">=</span> <span class="s">40e3</span>

<span class="c1"># Salinity of the water in the entire domain.</span>
<span class="na">salinity</span> <span class="o">=</span> <span class="s">35.0</span>

<span class="c1"># Coriolis parameter for entire domain.</span>
<span class="na">coriolis_parameter</span> <span class="o">=</span> <span class="s">-1.2e-4</span>
</pre></div>
</div>
<p>All units are mks, with temperature in degrees Celsius and salinity in PSU.</p>
</div>
<div class="section" id="default">
<h2>default<a class="headerlink" href="#default" title="Permalink to this headline">Â¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/10km/default</span></code> is the default version of the
baroclinic eddies test case for a short (15 min) test run and validation of
prognostic variables for regression testing.  Currently, only 10-km horizontal
resolution is supported.</p>
</div>
<div class="section" id="decomp-test">
<h2>decomp_test<a class="headerlink" href="#decomp-test" title="Permalink to this headline">Â¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/10km/decomp_test</span></code> runs a short (15 min) integration
of the model forward in time on 4 (<code class="docutils literal notranslate"><span class="pre">4proc</span></code> step) and then on 8 processors
(<code class="docutils literal notranslate"><span class="pre">8proc</span></code> step) to make sure the resulting prognostic variables are
bit-for-bit identical between the two runs. Currently, only 10-km horizontal
resolution is supported.</p>
</div>
<div class="section" id="thread-test">
<h2>thread_test<a class="headerlink" href="#thread-test" title="Permalink to this headline">Â¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/10km/thread_test</span></code> runs a short (15 min) integration
of the model forward in time on 1 threads per processor (<code class="docutils literal notranslate"><span class="pre">1thread</span></code> step) and
then on 2 threads (<code class="docutils literal notranslate"><span class="pre">2thread</span></code> step) to make sure the resulting prognostic
variables are bit-for-bit identical between the two runs. Currently, only 10-km
horizontal resolution is supported.</p>
</div>
<div class="section" id="restart-test">
<h2>restart_test<a class="headerlink" href="#restart-test" title="Permalink to this headline">Â¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/10km/restart_test</span></code> runs a short (10 min)
integration of the model forward in time (<code class="docutils literal notranslate"><span class="pre">full_run</span></code> step), saving a restart
file every 5 minutes.  Then, a second run (<code class="docutils literal notranslate"><span class="pre">restart_run</span></code> step) is performed
from the restart file 5 minutes into the simulation and prognostic variables
are compared between the âfullâ and ârestartâ runs at minute 10 to make sure
they are bit-for-bit identical. Currently, only 10-km horizontal resolution is
supported.</p>
</div>
<div class="section" id="rpe-test">
<h2>rpe_test<a class="headerlink" href="#rpe-test" title="Permalink to this headline">Â¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/1km/rpe_test</span></code>,
<code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/4km/rpe_test</span></code>, and
<code class="docutils literal notranslate"><span class="pre">ocean/baroclinic_channel/10km/rpe_test</span></code> perform longer (20 day) integration
of the model forward in time at 5 different values of the viscosity (with steps
named <code class="docutils literal notranslate"><span class="pre">rpe_test_1_nu_1</span></code>, <code class="docutils literal notranslate"><span class="pre">rpe_test_2_nu_5</span></code>, etc.) at any of the 3 supported
horizontal resolutions (1, 4 and 10 km).  Results of these tests have been used
to show that MPAS-Ocean has lower spurious dissipation of reference potential
energy (RPE) than POP, MOM and MITgcm models
(<a class="reference external" href="https://doi.org/10.1016/j.ocemod.2014.12.004">Petersen et al. 2015</a>).</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="global_ocean.html" class="btn btn-neutral float-right" title="global_ocean" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Configurations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Copyright (c) 2013-2021,  Los Alamos National Security, LLC (LANS) (Ocean: LA-CC-13-047;Land Ice: LA-CC-13-117) and the University Corporation for Atmospheric Research (UCAR)..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>